function Icegram_Message_Type_Sidebar(a){Icegram_Message_Type.apply(this,arguments)}Icegram_Message_Type_Sidebar.prototype=Object.create(Icegram_Message_Type.prototype),Icegram_Message_Type_Sidebar.prototype.constructor=Icegram_Message_Type_Sidebar,Icegram_Message_Type_Sidebar.prototype.get_template_default=function(){return'<div class="icegram ig_sidebar" ><div class="ig_container ig_{{=theme}} ig_no_hide" id="icegram_message_{{=id}}"><div class="ig_content ig_clear_fix"><div class="ig_close" id="ig_sidebar_close_{{=id}}"><span class="ig_bar_open"></span></div><div class="ig_data"><div class="ig_headline">{{=headline}}</div><div class="ig_message">{{=message}}</div></div><div class="ig_button">{{=label}}</div><div class="ig_form_container layout_right layout_bottom"></div></div></div></div>'},Icegram_Message_Type_Sidebar.prototype.post_render=function(){Icegram_Message_Type.prototype.post_render.apply(this,arguments),void 0!=this.data.use_theme_defaults&&"yes"==this.data.use_theme_defaults||void 0!=this.data.bg_color&&""!=this.data.bg_color&&this.el.find(".ig_close").css("background-color",this.data.bg_color)},Icegram_Message_Type_Sidebar.prototype.set_position=function(){switch(this.data.position){case"12":this.el.css("position","fixed"),this.el.addClass("ig_right");break;case"10":default:this.el.css("position","fixed"),this.el.addClass("ig_left")}},Icegram_Message_Type_Sidebar.prototype.post_show=function(a,b){var c=this.el.filter(".ig_form_bottom").find(".layout_bottom.ig_form_container").outerHeight()||0,d=this.el.find(".ig_button").height()+60;c>0&&(c-=d);var e=jQuery(window).height()-d-c-parseInt(this.el.css("borderTopWidth"));this.el.filter(".ig_form_inline").length>0&&(e=e+d-5),this.el.find(".ig_data").css("max-height",e+"px")},Icegram_Message_Type_Sidebar.prototype.add_powered_by=function(a){jQuery('<div class="ig_powered_by" ><a href="'+a.link+'" target="_blank"><img src="'+a.logo+'" title="'+a.text+'"/></a></div>').insertAfter(this.el.find(".ig_content"))},Icegram_Message_Type_Sidebar.prototype.on_click=function(a){return a.data=a.data||{self:this},jQuery(a.target).filter(".ig_show span.ig_bar_open").length?void a.data.self.hide():jQuery(a.target).filter(".ig_hide span.ig_bar_open").length?void a.data.self.show():void Icegram_Message_Type.prototype.on_click.apply(this,arguments)};